<!DOCTYPE html>
<html>
  <head>
    <link href='/flex/assets/global-9916d5b8228587acf80f3b6895466abf.css' rel='stylesheet' type='text/css' />
<script src='/flex/assets/global-a63e4d3d89edd2025dec6b2451238b9e.js' type='text/javascript'></script>

    <title>
      FlexDoc - How to migrate from flex 0.x
    </title>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-42574355-2', 'ddnexus.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <div id="page-nav" class="nocontent">
      <ul id="nav-menu" class="menu_h_list"><li><a href="#" class="isLabel">Flex Project</a><ul><li><a href="/flex/doc/1-Flex-Project/1-Overview.html">Project Overview</a></li><li><a href="/flex/doc/1-Flex-Project/2-Usage-Overview.html">Usage Overview</a></li><li><a href="/flex/doc/1-Flex-Project/3-Configuration.html">Configuration</a></li><li><a href="/flex/doc/1-Flex-Project/4-Rake-Tasks.html">Rake Tasks</a></li></ul></li><li><a href="#" class="isLabel">flex</a><ul><li><a href="/flex/doc/2-flex/1-Overview.html">Overview</a></li><li><a href="/flex/doc/2-flex/2-API-Methods.html">API Methods</a></li><li><a href="#" class="isLabel">Templating</a><div class="arrow right"></div><ul><li><a href="/flex/doc/2-flex/3-Templating/1-Templates.html">Templates</a></li><li><a href="/flex/doc/2-flex/3-Templating/2-Sources.html">Template Sources</a></li><li><a href="/flex/doc/2-flex/3-Templating/3-Tags.html">Tags</a></li><li><a href="/flex/doc/2-flex/3-Templating/4-Variables.html">Variables</a></li><li><a href="/flex/doc/2-flex/3-Templating/5-Interpolation.html">Interpolation</a></li><li><a href="/flex/doc/2-flex/3-Templating/6-Partials.html">Partial Templates</a></li></ul></li><li><a href="/flex/doc/2-flex/4-Result-Extenders.html">Result Extenders</a></li><li><a href="/flex/doc/2-flex/5-Self-Documentation.html">Self Documentation</a></li><li><a href="/flex/doc/2-flex/6-Utility-Methods.html">Utility Methods</a></li></ul></li><li><a href="#" class="isLabel">flex-scopes</a><ul><li><a href="/flex/doc/3-flex-scopes/1-Overview.html">Overview</a></li><li><a href="/flex/doc/3-flex-scopes/2-Scopes.html">Scopes</a></li></ul></li><li><a href="#" class="isLabel">flex-models</a><ul><li><a href="/flex/doc/4-flex-models/1-Overview.html">Overview</a></li><li><a href="/flex/doc/4-flex-models/2-ActiveRecord-And-Mongoid-Integration.html">ActiveRecord And Mongoid Integration</a></li><li><a href="/flex/doc/4-flex-models/3-ActiveModel-Integration.html">ActiveModel Integration</a></li><li><a href="#" class="isLabel">Modules</a><div class="arrow right"></div><ul><li><a href="/flex/doc/4-flex-models/4-Modules/1-Flex::ModelSyncer.html">Flex::ModelSyncer</a></li><li><a href="/flex/doc/4-flex-models/4-Modules/2-Flex::ModelIndexer.html">Flex::ModelIndexer</a></li><li><a href="/flex/doc/4-flex-models/4-Modules/3-Flex::ActiveModel.html">Flex::ActiveModel</a></li></ul></li><li><a href="/flex/doc/4-flex-models/5-Result-Extenders.html">Result Extenders</a></li></ul></li><li><a href="#" class="isLabel">flex-rails</a><ul><li><a href="/flex/doc/5-flex-rails/1-overview.html">Overview</a></li><li><a href="/flex/doc/5-flex-rails/2-Result-Extenders.html">Result Extenders</a></li></ul></li><li><a href="#" class="isLabel">flex-admin</a><ul><li><a href="/flex/doc/6-flex-admin/1-Binary.html">Binary</a></li><li><a href="/flex/doc/6-flex-admin/2-Live-Reindex.html">Live Reindex</a></li></ul></li><li><a href="#" class="isLabel">Tutorials</a><ul><li><a href="/flex/doc/7-Tutorials/1-Flex-vs-Tire.html">Why you should use Flex rather than Tire</a></li><li><a href="/flex/doc/7-Tutorials/2-Migrate-from-0.x.html">How to migrate from flex 0.x</a></li><li><a href="/flex/doc/7-Tutorials/3-Index-and-Search-your-Models.html">Index and Search your Models</a></li><li><a href="/flex/doc/7-Tutorials/4-Index-and-Search-External-Data.html">Index and Search External Data</a></li></ul></li></ul>
      <div id="google-search">
        <script type="text/javascript">
          (function() {
            var cx = '001168365143071728136:m_m7r3q0dhs';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
        </script>
        <gcse:search>&nbsp;</gcse:search>
      </div>
    </div>
    <div id="page-toc"></div>
    <div id="content">
      <a id="badge" href="https://badge.fury.io/rb/flex"><img src="https://badge.fury.io/rb/flex.png" /></a>
      <div class="breadcrumb nocontent">
        <span><a href="/flex/doc">FlexDoc</a></span> &gt; <span><a href="/flex/doc/7-Tutorials">Tutorials</a></span> &gt; <span>How to migrate from flex 0.x</span>
      </div>
      <h1 id='how_to_migrate_from_flex_0x'>How to migrate from flex 0.x</h1>

<p>Flex 1.x has changed quite a lot from version 0.x but you need just to rename a few things in order to upgrade it. You should be able to do it in a couple of minutes with just a few search and replace. If you miss any change, flex will work anyway, but will emit a deprecation warning, so keep an eye on the log.</p>

<h2 id='changes'>Changes</h2>

<h3 id='1_gem_changes'>1. Gem changes</h3>

<h4 id='rails_apps'>Rails Apps</h4>

<p>You have to change <code>gem &#39;flex&#39;, :require =&gt; &#39;flex/rails&#39;</code> to simply <code>gem &#39;flex-rails&#39;</code> in your <code>Gemfile</code>. Run a <code>bundle install</code> and your app should be able to start. Then it will emit the deprecation warnings for the other changes in the log.</p>

<h4 id='non_rails_apps'>Non Rails Apps</h4>

<p>If you used model related functionality, you will be required to load the <code>flex-models</code> gem that is now separated by the <code>flex</code> core gem.</p>

<h3 id='2_configuration_renaming'>2. Configuration Renaming</h3>

<p><code>base_uri</code> &gt; <code>http_client.base_uri</code></p>

<p><code>http_client_options</code> &gt; <code>http_client.options</code></p>

<p><code>raise_proc</code> &gt; <code>http_client.raise_proc</code></p>

<h3 id='3_special_variables'>3. Special Variables</h3>

<p><code>vars[:size]</code> is not a special variable anymore, so it will not be automatically converted to the <code>vars[:params][:size]</code> param anymore. You must set it as a standard param: <code>:params =&gt; {:size =&gt; size}</code>.</p>

<blockquote>
<p>Flex will not emit any warning if you still use the old <code>vars[:size]</code> variable with the intention to change the <code>vars[:params][:size]</code> param: it will just not set the param. If you used the <code>&lt;&lt;size&gt;&gt;</code> tag in any template it will work as long as a <code>:size</code> variable is set. Remember that tags can now refer to nested variables, so you could refer to the <code>vars[:params][:size]</code> param in any template with <code>&lt;&lt;params.size&gt;&gt;</code>.</p>
</blockquote>

<h3 id='4_method_renaming'>4. Method Renaming</h3>

<p><code>add</code> &gt; <code>deep_merge!</code> for all variables receivers</p>

<p><code>info</code> &gt; <code>doc</code> to print the self documentation (e.g. <code>Flex.doc</code>, <code>YourClass.flex.doc</code> (see <a href='/flex/doc/2-flex/5-Self-Documentation.html'>Self Documentation</a>))</p>

<h4 id='bulk_support'>Bulk Support</h4>

<p><code>Flex.bulk(:lines =&gt; lines_bulk_string)</code> &gt; <code>Flex.post_bulk_string(:bulk_string =&gt; lines_bulk_string)</code></p>

<p><code>Flex.process_bulk(:collection =&gt; collection)</code> &gt; <code>Flex.post_bulk_collection(collection, options)</code></p>

<p><code>Flex.import_collection</code> &gt; <code>Flex.post_bulk_collection</code></p>

<p><code>Flex.delete_collection(collection)</code> &gt; <code>Flex.post_bulk_collection(collection, :action =&gt; &quot;delete&quot;)</code></p>

<h3 id='5_modules_renaming'>5. Modules Renaming</h3>

<p><code>Flex::Loader</code> &gt; <code>Flex::Templates</code></p>

<p><code>Flex::Model</code> &gt; <code>Flex::ModelIndexer</code></p>

<p><code>Flex::RelatedModel</code> &gt; <code>Flex::ModelSyncer</code></p>

<h3 id='6_rake_tasks_renaming'>6. Rake Tasks Renaming</h3>

<p><code>flex:create_indices</code> &gt; <code>flex:index:create</code></p>

<p><code>flex:delete_indices</code> &gt; <code>flex:index:delete</code></p>

<blockquote>
<p><strong>Notice</strong>: some ENV variable used for the tasks, may also have been renamed (see <a href='/flex/doc/1-Flex-Project/4-Rake-Tasks.html'>Rake Tasks</a>)</p>
</blockquote>

<h2 id='additions'>Additions</h2>

<p>You may want to check the new documentation in order to take advantage of the new features of the gems. For example, you may want to add <code>Flex::Scopes</code> to some of your classes, or you may want to use the new <code>flex-admin</code> binary and tasks, or live-reindexing your code/index changes, or fine-tuning the configuration of the new flex logger etc. (see <a href='/flex/doc/1-Flex-Project/1-Overview.html'>Project Overview</a> and <a href='/flex/doc/1-Flex-Project/2-Usage-Overview.html'>Usage Overview</a>)</p><br />
      <div class="breadcrumb nocontent">
        <span><a href="/flex/doc">FlexDoc</a></span> &gt; <span><a href="/flex/doc/7-Tutorials">Tutorials</a></span> &gt; <span>How to migrate from flex 0.x</span>
      </div>
    </div>
    <div id="footer" class="nocontent">
      Copyright &copy; 2012-2013 by <a href="mailto://dd.nexus@gmail.com">Domizio Demichelis</a> &mdash; Sponsored by <a href="http://www.escalatemedia.com">Escalate Media</a> and <a href="http://www.barquin.com">Barquin International</a>
    </div>
  </body>
</html>