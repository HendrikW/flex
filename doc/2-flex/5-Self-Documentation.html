<!DOCTYPE html>
<html>
  <head>
    <link href='/flex/assets/global-9916d5b8228587acf80f3b6895466abf.css' rel='stylesheet' type='text/css' />
<script src='/flex/assets/global-a63e4d3d89edd2025dec6b2451238b9e.js' type='text/javascript'></script>

    <title>
      FlexDoc - flex - Self Documentation
    </title>
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-42574355-2', 'ddnexus.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <div id="page-nav" class="nocontent">
      <ul id="nav-menu" class="menu_h_list"><li><a href="#" class="isLabel">Flex Project</a><ul><li><a href="/flex/doc/1-Flex-Project/1-Overview.html">Project Overview</a></li><li><a href="/flex/doc/1-Flex-Project/2-Usage-Overview.html">Usage Overview</a></li><li><a href="/flex/doc/1-Flex-Project/3-Configuration.html">Configuration</a></li><li><a href="/flex/doc/1-Flex-Project/4-Rake-Tasks.html">Rake Tasks</a></li></ul></li><li><a href="#" class="isLabel">flex</a><ul><li><a href="/flex/doc/2-flex/1-Overview.html">Overview</a></li><li><a href="/flex/doc/2-flex/2-API-Methods.html">API Methods</a></li><li><a href="#" class="isLabel">Templating</a><div class="arrow right"></div><ul><li><a href="/flex/doc/2-flex/3-Templating/1-Templates.html">Templates</a></li><li><a href="/flex/doc/2-flex/3-Templating/2-Sources.html">Template Sources</a></li><li><a href="/flex/doc/2-flex/3-Templating/3-Tags.html">Tags</a></li><li><a href="/flex/doc/2-flex/3-Templating/4-Variables.html">Variables</a></li><li><a href="/flex/doc/2-flex/3-Templating/5-Interpolation.html">Interpolation</a></li><li><a href="/flex/doc/2-flex/3-Templating/6-Partials.html">Partial Templates</a></li></ul></li><li><a href="/flex/doc/2-flex/4-Result-Extenders.html">Result Extenders</a></li><li><a href="/flex/doc/2-flex/5-Self-Documentation.html">Self Documentation</a></li><li><a href="/flex/doc/2-flex/6-Utility-Methods.html">Utility Methods</a></li></ul></li><li><a href="#" class="isLabel">flex-scopes</a><ul><li><a href="/flex/doc/3-flex-scopes/1-Overview.html">Overview</a></li><li><a href="/flex/doc/3-flex-scopes/2-Scopes.html">Scopes</a></li></ul></li><li><a href="#" class="isLabel">flex-models</a><ul><li><a href="/flex/doc/4-flex-models/1-Overview.html">Overview</a></li><li><a href="/flex/doc/4-flex-models/2-ActiveRecord-And-Mongoid-Integration.html">ActiveRecord And Mongoid Integration</a></li><li><a href="/flex/doc/4-flex-models/3-ActiveModel-Integration.html">ActiveModel Integration</a></li><li><a href="#" class="isLabel">Modules</a><div class="arrow right"></div><ul><li><a href="/flex/doc/4-flex-models/4-Modules/1-Flex::ModelSyncer.html">Flex::ModelSyncer</a></li><li><a href="/flex/doc/4-flex-models/4-Modules/2-Flex::ModelIndexer.html">Flex::ModelIndexer</a></li><li><a href="/flex/doc/4-flex-models/4-Modules/3-Flex::ActiveModel.html">Flex::ActiveModel</a></li></ul></li><li><a href="/flex/doc/4-flex-models/5-Result-Extenders.html">Result Extenders</a></li></ul></li><li><a href="#" class="isLabel">flex-rails</a><ul><li><a href="/flex/doc/5-flex-rails/1-overview.html">Overview</a></li><li><a href="/flex/doc/5-flex-rails/2-Result-Extenders.html">Result Extenders</a></li></ul></li><li><a href="#" class="isLabel">flex-admin</a><ul><li><a href="/flex/doc/6-flex-admin/1-Binary.html">Binary</a></li><li><a href="/flex/doc/6-flex-admin/2-Live-Reindex.html">Live Reindex</a></li></ul></li><li><a href="#" class="isLabel">Tutorials</a><ul><li><a href="/flex/doc/7-Tutorials/1-Flex-vs-Tire.html">Why you should use Flex rather than Tire</a></li><li><a href="/flex/doc/7-Tutorials/2-Migrate-from-0.x.html">How to migrate from flex 0.x</a></li><li><a href="/flex/doc/7-Tutorials/3-Index-and-Search-your-Models.html">Index and Search your Models</a></li><li><a href="/flex/doc/7-Tutorials/4-Index-and-Search-External-Data.html">Index and Search External Data</a></li></ul></li></ul>
      <div id="google-search">
        <script type="text/javascript">
          (function() {
            var cx = '001168365143071728136:m_m7r3q0dhs';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
          })();
        </script>
        <gcse:search>&nbsp;</gcse:search>
      </div>
    </div>
    <div id="page-toc"></div>
    <div id="content">
      <a id="badge" href="https://badge.fury.io/rb/flex"><img src="https://badge.fury.io/rb/flex.png" /></a>
      <div class="breadcrumb nocontent">
        <span><a href="/flex/doc">FlexDoc</a></span> &gt; <span><a href="/flex/doc/2-flex">flex</a></span> &gt; <span>Self Documentation</span>
      </div>
      <h1 id='self_documentation'>Self Documentation</h1>

<p>Flex is aware of your templates, partials, the tags they use, whether they are required or have defaults, and can suggest you the usage of the methods it creates for you.</p>

<p>You can get the complete info, with the (erb expanded) templates and partials used by each generated method, plus a commented example of its usage, by just calling <code>doc</code> on the <code>flex</code> proxy object of your class. For example:</p>
<div class='highlight'><pre><code class='irb'><span class='gp'>&gt;&gt; </span><span class='no'>MyClass</span><span class='o'>.</span><span class='n'>flex</span><span class='o'>.</span><span class='n'>doc</span> <span class='ss'>:facet_search</span>

<span class='go'>#  ########## MyClass.facet_search ##########</span>
<span class='go'>#</span>
<span class='go'>#  ----------------------</span>
<span class='go'>#  Flex::Template::Search</span>
<span class='go'>#  ---</span>
<span class='go'>#  facet_search:</span>
<span class='go'>#    - query:</span>
<span class='go'>#        bool:</span>
<span class='go'>#          must:</span>
<span class='go'>#            - query_string:</span>
<span class='go'>#                query: &lt;&lt;q= &#39;*&#39; &gt;&gt;</span>
<span class='go'>#            - &lt;&lt; _facet_terms= ~ &gt;&gt;</span>
<span class='go'>#      facets:</span>
<span class='go'>#        keywords:</span>
<span class='go'>#          terms:</span>
<span class='go'>#            field: keywords</span>
<span class='go'>#        foo:</span>
<span class='go'>#          terms:</span>
<span class='go'>#            field: foo</span>
<span class='go'>#        bar:</span>
<span class='go'>#          terms:</span>
<span class='go'>#            field: bar</span>
<span class='go'>#</span>
<span class='go'>#  -----------------------</span>
<span class='go'>#  Flex::Template::Partial</span>
<span class='go'>#  ---</span>
<span class='go'>#  _facet_terms:</span>
<span class='go'>#    term: &lt;&lt;facet_hash&gt;&gt;</span>
<span class='go'>#</span>
<span class='go'>#</span>
<span class='go'>#  Usage:</span>
<span class='go'>#  MyClass.facet_search :_facet_terms =&gt; nil,         # partial</span>
<span class='go'>#                       :type         =&gt; type,        # required</span>
<span class='go'>#                       :index        =&gt; &quot;test&quot;,</span>
<span class='go'>#                       :q            =&gt; &quot;*&quot;</span>
<span class='go'>#</span>
<span class='go'>def MyClass.facet_search(*vars)</span>
<span class='go'>  # this is a stub, used for reference</span>
<span class='go'>end</span>
</code></pre></div>
<p>The info for a method contains the template and partial(s) eventually used, plus an usage example.</p>

<p><strong>IMPORTANT: the usage example is not generic</strong>. It actually shows you a working sample of code, with the variables set with their evaluated default coming from your code or with a stub variable name. Keep an eye on the values of the variables in order to know more about them.</p>

<ul>
<li>If it is an <strong>explicit value</strong>, that is the default that will be used if you don&#8217;t pass any other value. Remember that a <code>nil</code> default would prune that tag if you don&#8217;t pass any other value.</li>

<li>If it is a <strong>stub variable name</strong>, that means that it is a required tag (with no default), so you must pass the variable or it will raise an error.</li>

<li>The explicit comments are shown in order to make partials and required variables stand out.</li>
</ul>

<p>That output is suitable for being copied and pasted right in your class, just before the <code>flex.load_*</code> call that will overrides the stubs. Notice that stubs are very useful in order to make some IDE work properly with autogenerated methods (e.g. RubyMine).</p>

<p>You can get the self documetation of all the methods your class defines, by just <strong>not</strong> passing any template name to the <code>doc</code> method.</p>

<blockquote>
<p><strong>Notice</strong>: you can get the self documentation also for the Flex API Pethods by doing the same with <code>Flex</code> (see <a href='/flex/doc/2-flex/2-API-Methods.html'>API Methods</a>):</p>
</blockquote>
<div class='highlight'><pre><code class='irb'><span class='gp'>&gt;&gt; </span><span class='no'>Flex</span><span class='o'>.</span><span class='n'>doc</span>
</code></pre></div><br />
      <div class="breadcrumb nocontent">
        <span><a href="/flex/doc">FlexDoc</a></span> &gt; <span><a href="/flex/doc/2-flex">flex</a></span> &gt; <span>Self Documentation</span>
      </div>
    </div>
    <div id="footer" class="nocontent">
      Copyright &copy; 2012-2013 by <a href="mailto://dd.nexus@gmail.com">Domizio Demichelis</a> &mdash; Sponsored by <a href="http://www.escalatemedia.com">Escalate Media</a> and <a href="http://www.barquin.com">Barquin International</a>
    </div>
  </body>
</html>